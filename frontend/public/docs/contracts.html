<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XForce Terminal - Smart Contracts</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>XForce Terminal Architecture</h1>
        <p>How Everything Works Together - Explained Simply</p>
    </header>

    <div class="container">
        <nav>
            <ul>
                <li><a href="index.html">The Big Picture</a></li>
                <li><a href="terminal.html">Trading Terminal</a></li>
                <li><a href="contracts.html" class="active">Smart Contracts</a></li>
                <li><a href="news-service.html">News Service</a></li>
                <li><a href="integrations.html">How They Connect</a></li>
                <li><a href="data-flows.html">What Happens When</a></li>
                <li><a href="tech-stack.html">Technologies Used</a></li>
            </ul>
        </nav>

        <section id="contracts">
            <h2>The Smart Contracts</h2>
            <p class="section-intro">
                Smart contracts are programs that live on the Solana blockchain. Our main contract is called the "Batch Swap Router" 
                and it does something really clever: it lets you do multiple trades in a single transaction, which saves you a ton of money.
            </p>

            <div class="plain-english">
                <h4>ðŸ’¡ In Plain English</h4>
                <p>
                    Normally, if you want to swap SOL â†’ USDC â†’ BONK â†’ RAY, you'd need to do three separate transactions and pay 
                    fees three times. Our batch swap contract lets you do all three swaps in ONE transaction, so you only pay fees once. 
                    This can save you 60-90% on transaction costs!
                </p>
            </div>
            
            <div class="diagram-container">
                <svg class="diagram" viewBox="0 0 1600 1000" xmlns="http://www.w3.org/2000/svg">
                    <!-- Solana Program - Top -->
                    <rect x="450" y="80" width="700" height="320" class="component-box contracts-color" />
                    <text x="800" y="160" class="component-text" font-size="40" font-weight="bold">Batch Swap Router</text>
                    <text x="800" y="210" class="component-text" font-size="24">Smart Contract Program</text>
                    <text x="800" y="255" class="component-text" font-size="22">Lives on Solana Blockchain</text>
                    <text x="800" y="300" class="component-text" font-size="20">Program ID:</text>
                    <text x="800" y="340" class="component-text" font-size="18">HS63bw1V1qTM5uWf92q3uaFdqogrc4SN9qUJSR8aqBMx</text>
                    <text x="800" y="380" class="component-text" font-size="22">Saves You Money!</text>

                    <!-- Client Library - Left -->
                    <rect x="80" y="500" width="480" height="320" class="component-box contracts-color" />
                    <text x="320" y="570" class="component-text" font-size="36" font-weight="bold">Client Library</text>
                    <text x="320" y="620" class="component-text" font-size="24">Rust Code</text>
                    <text x="320" y="665" class="component-text" font-size="22">Easy to Use</text>
                    <text x="320" y="710" class="component-text" font-size="22">Builds Transactions</text>
                    <text x="320" y="755" class="component-text" font-size="22">Handles Errors</text>
                    <text x="320" y="800" class="component-text" font-size="22">Terminal Uses This</text>

                    <!-- Solana Blockchain - Bottom -->
                    <rect x="600" y="500" width="700" height="320" class="component-box solana-color" />
                    <text x="950" y="570" class="component-text" font-size="38" fill="#ffffff" font-weight="bold">Solana Blockchain</text>
                    <text x="950" y="620" class="component-text" font-size="24" fill="#ffffff">Where Contract Lives</text>
                    <text x="950" y="665" class="component-text" font-size="24" fill="#ffffff">Executes Your Swaps</text>
                    <text x="950" y="710" class="component-text" font-size="24" fill="#ffffff">Super Fast & Cheap</text>
                    <text x="950" y="755" class="component-text" font-size="24" fill="#ffffff">All Transactions Recorded</text>
                    <text x="950" y="800" class="component-text" font-size="24" fill="#ffffff">Forever & Always</text>

                    <!-- Connections -->
                    <!-- Batch Swap Router to Solana - vertical arrow with gap -->
                    <line x1="800" y1="400" x2="800" y2="460" class="arrow" />
                    <line x1="800" y1="460" x2="950" y2="500" class="arrow" />
                    <rect x="850" y="415" width="110" height="45" fill="white" stroke="#dc2626" stroke-width="4" rx="8" />
                    <text x="905" y="442" class="arrow-label" font-size="20" fill="#dc2626" font-weight="bold">Deployed</text>

                    <!-- Client Library to Solana - horizontal arrow with gap above boxes -->
                    <line x1="560" y1="460" x2="600" y2="460" class="arrow" />
                    <line x1="600" y1="460" x2="600" y2="500" class="arrow" />
                    <rect x="570" y="430" width="90" height="60" fill="white" stroke="#dc2626" stroke-width="4" rx="8" />
                    <text x="615" y="455" class="arrow-label" font-size="20" fill="#dc2626" font-weight="bold">Uses</text>
                    <text x="615" y="480" class="arrow-label" font-size="18" fill="#dc2626">Library</text>
                </svg>
            </div>

            <h3>How It Works</h3>
            <p>
                The batch swap router is a program that's been deployed to the Solana blockchain. When you want to do multiple swaps, 
                the terminal uses a special library (the "client") to build a transaction that calls this program. The program then 
                executes all your swaps at once, atomically - meaning either they all succeed or they all fail. No partial swaps!
            </p>

            <div class="why-matters">
                <h4>ðŸŽ¯ Why This Matters</h4>
                <p>
                    Solana transaction fees are already super low (like $0.00025), but if you're doing complex trading strategies 
                    with multiple swaps, those fees add up. By batching swaps, you can execute sophisticated trading strategies 
                    for the cost of a single transaction. This makes advanced trading accessible to everyone, not just whales.
                </p>
            </div>

            <h3>What the Contract Can Do</h3>
            <table>
                <tr>
                    <th>Feature</th>
                    <th>What It Means</th>
                    <th>Why It's Cool</th>
                </tr>
                <tr>
                    <td><strong>Batch Swaps</strong></td>
                    <td>Do up to 10 swaps in one transaction</td>
                    <td>Save 60-90% on fees compared to doing them separately</td>
                </tr>
                <tr>
                    <td><strong>Atomic Execution</strong></td>
                    <td>All swaps succeed or all fail together</td>
                    <td>No risk of partial execution - you're protected</td>
                </tr>
                <tr>
                    <td><strong>Slippage Protection</strong></td>
                    <td>Won't execute if price moves too much</td>
                    <td>Prevents bad trades from market volatility</td>
                </tr>
                <tr>
                    <td><strong>Fee Management</strong></td>
                    <td>Calculates and tracks fees transparently</td>
                    <td>You always know what you're paying</td>
                </tr>
            </table>

            <h3>The Client Library</h3>
            <p>
                The client library is like a translator between the terminal and the smart contract. Instead of having to write 
                complex blockchain code every time, developers can just use simple functions like "execute batch swap" and the 
                library handles all the complicated stuff.
            </p>
            <ul>
                <li><strong>What it does:</strong> Makes it easy to interact with the smart contract</li>
                <li><strong>Why it's special:</strong> Type-safe - the compiler catches errors before you even run the code</li>
                <li><strong>Where it lives:</strong> <span class="code-ref">xforce-terminal-contracts/client/</span></li>
                <li><strong>How terminal uses it:</strong> The terminal includes this library and calls its functions</li>
            </ul>
        </section>
    </div>

    <a href="#" class="back-to-top" id="backToTop" title="Back to top">â†‘</a>

    <footer>
        <p style="font-size: 1.2em; margin-bottom: 10px;"><strong>XForce Terminal Architecture</strong></p>
        <p>How Everything Works Together - Explained Simply</p>
        <p style="margin-top: 20px; color: #999; font-size: 0.9em;">Last Updated: 2025</p>
    </footer>

    <script>
        const backToTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTop.style.display = 'flex';
            } else {
                backToTop.style.display = 'none';
            }
        });

        backToTop.addEventListener('click', (e) => {
            e.preventDefault();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    </script>
</body>
</html>

